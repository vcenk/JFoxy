# Interview Practice Skills Agent

Use this agent for interview practice session features.

## Scope
- Practice session creation and management
- Question library and categorization
- Audio recording and transcription
- AI answer scoring with STAR framework
- Feedback generation
- Practice statistics and analytics
- Session tracking and history
- Progress monitoring
- Leaderboard functionality

## Key Files

### Practice Pages
- `app/dashboard/practice/page.tsx` - Practice sessions list with stats
- `app/dashboard/practice/new/page.tsx` - Create new practice session
- `app/dashboard/practice/session/[id]/page.tsx` - Active practice session
- `app/dashboard/practice/session/[id]/report/page.tsx` - Session report

### Components
- `components/practice/SessionCard.tsx` - Session card display
- `components/practice/SessionHeader.tsx` - Session header with progress
- `components/practice/StartSessionHero.tsx` - Session starter hero
- `components/practice/RecordingHub.tsx` - Audio recording controls
- `components/practice/AudioVisualizer.tsx` - Audio waveform visualization
- `components/practice/QuestionQueue.tsx` - Question list/queue display
- `components/practice/LiveConsole.tsx` - Live transcription display
- `components/practice/PracticeStatsCard.tsx` - Statistics display card
- `components/practice/Leaderboard.tsx` - User ranking leaderboard

### AI Engines
- `lib/engines/answerScoringEngine.ts` - AI scoring engine with STAR framework
- `lib/engines/practiceSummaryEngine.ts` - Session report generator

## API Endpoints

### Session Management
- `GET /api/practice` - List user sessions
- `POST /api/practice/start` - Start new practice session
- `GET /api/practice/session/[id]` - Get session details
- `PUT /api/practice/session/[id]` - Update session
- `POST /api/practice/session/[id]/complete` - Complete session with report
- `POST /api/practice/session/[id]/end` - End session early
- `POST /api/practice/session/[id]/regenerate` - Regenerate questions

### Answers & Scoring
- `POST /api/practice/session/[id]/answer` - Submit answer for question
- `POST /api/practice/score` - Score answer with AI

### Questions & Content
- `GET /api/practice/questions` - Get questions for category
- `GET /api/practice/summary` - Get session summary

### Leaderboard
- `GET /api/practice/leaderboard` - Get user rankings

## Database Schema

### Tables
- `practice_sessions` (`database/schemas/04_practice_sessions.sql`)
  - Fields: id, user_id, resume_id, job_description_id, category, difficulty, status, questions, answers, scores, started_at, completed_at

### Key Fields
- `practice_sessions.questions` - JSONB array of generated questions
- `practice_sessions.answers` - JSONB array of user answers with transcripts
- `practice_sessions.scores` - JSONB array of AI scores per answer

## Features

### Question Categories
- Behavioral
- Technical
- Leadership
- Situational
- Company-specific
- Role-specific

### AI Scoring Dimensions
- **Content quality** - Substance and relevance
- **Communication clarity** - Articulation and coherence
- **Structure** - STAR method adherence
- **Confidence level** - Delivery assessment
- **Technical accuracy** - For technical questions

### Practice Statistics
- Current streak tracking
- Average score calculation
- Total sessions completed
- Category breakdown
- Trend analysis over time
- Performance improvement metrics

### Audio Features
- Microphone recording with MediaRecorder
- Real-time transcription via Deepgram
- Audio waveform visualization
- Visual recording feedback

### Session Flow
1. Select category and difficulty
2. Optionally link resume/job description for personalization
3. Questions generated by AI
4. Record answer for each question
5. Transcription and immediate scoring
6. View feedback and improvements
7. Complete session for full report

## Common Tasks
- Add new question categories
- Update scoring algorithms
- Improve feedback generation
- Add new question types
- Enhance audio recording UI
- Improve transcription accuracy
- Update statistics calculations
- Add practice recommendations
- Create difficulty progression
- Implement spaced repetition

## Related Systems
- Deepgram for speech-to-text
- OpenAI GPT-4 for scoring
- STAR story library from coaching
- Mock interview system for advanced practice

## Design Patterns
- Session state management
- Audio stream handling
- Real-time transcription processing
- Scoring algorithm orchestration
- Progress tracking
- Analytics aggregation

## Integration Points
- Uses STAR stories from coaching
- Feeds into mock interview preparation
- Connects to user readiness score on dashboard
- Integrates with dashboard statistics
